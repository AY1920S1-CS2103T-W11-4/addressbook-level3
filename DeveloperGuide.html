<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>CaloFit - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">AddressBook-Level3</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level3"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>CaloFit - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team CaloFit (AY1920S1-CS2103T-W11-4)</code>      Since: <code>Sep 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#setting-up">2. Setting up</a></li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">3.1. Architecture</a></li>
<li><a href="#Design-Ui">3.2. UI component</a></li>
<li><a href="#Design-Logic">3.3. Logic component</a></li>
<li><a href="#Design-Model">3.4. Model component</a></li>
<li><a href="#Design-Storage">3.5. Storage component</a></li>
<li><a href="#Design-Commons">3.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#meal-tracking-feature">4.1. Meal Tracking Feature</a></li>
<li><a href="#budget-bar-display">4.2. Budget Bar display</a></li>
<li><a href="#assistance-features">4.3. Assistance features</a></li>
<li><a href="#report-feature">4.4. Report feature</a></li>
<li><a href="#logging">4.5. Logging</a></li>
<li><a href="#Implementation-Configuration">4.6. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a></li>
<li><a href="#testing">6. Testing</a></li>
<li><a href="#dev-ops">7. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a>
<ul class="sectlevel2">
<li><a href="#target-user-profile">A.1. Target User Profile</a></li>
<li><a href="#value-proposition">A.2. Value Proposition</a></li>
</ul>
</li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a>
<ul class="sectlevel2">
<li><a href="#use-case-add-meal-entry">C.1. Use Case: Add meal entry</a></li>
</ul>
</li>
<li><a href="#non-functional-requirements">Appendix D: Non-functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#deleting-a-person">G.2. Deleting a person</a></li>
<li><a href="#testing-find-feature">G.3. Testing find feature</a></li>
<li><a href="#testing-suggest-feature">G.4. Testing suggest feature</a></li>
<li><a href="#testing-notification-feature">G.5. Testing notification feature</a></li>
<li><a href="#testing-the-generation-of-the-report">G.6. Testing the generation of the report</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Get Healthy with CaloFit!</strong><br></p>
</div>
<div class="paragraph">
<p>CaloFit is a calorie tracker application written in Java. It provides a simple, fast, and easily-understood platform for users to manage their meals, find meal suggestions, and track their progress by setting their own calorie budget.<br></p>
</div>
<div class="paragraph">
<p>This guide provides information that will not only help you understand how CaloFit works, but also help you expand or modify its features based on what the user wants to track.<br></p>
</div>
<div class="paragraph">
<p>We are a team of 4 Computer Science students from the National University of Singapore(NUS), and hope that this guide has been helpful for you. In the case of any queries or bugs, feel free to contact us by following the instructions [<a href="https://github.com/AY1920S1-CS2103T-W11-4/main/blob/master/docs/ContactUs.adoc">here</a>].</p>
</div>
<div class="paragraph">
<p>Here is a list of symbols and formats we will be using in this guide:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Important information will be listed here for you.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>report</code> Text in a grey highlight represents a command that you can enter into CaloFit.</p>
</div>
<div class="paragraph">
<p><strong><em>Command</em></strong> Text that is bold and italicised represents a Class, Interface or Object.</p>
</div>
<div class="paragraph">
<p><em>Model#getMealLog()</em> Text that is italicised only represents a method. The method name is listed after the "#" symbol.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">3.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="paragraph">
<p><strong><em>Main</em></strong> has two classes called <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/Main.java"><strong><em>Main</em></strong></a> and <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/MainApp.java"><strong><em>MainApp</em></strong></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><em>Commons</em></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>LogsCenter</em></strong> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><em>UI</em></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><em>Logic</em></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><em>Model</em></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><em>Storage</em></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <strong><em>interface</em></strong> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <strong><em>{Component Name}Manager</em></strong> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This architecture system allows for different components of CaloFit to be implemented separately without conflict. Any interaction between the components is done through the <strong><em>Model</em></strong> interface to avoid exposing unnecessary details of each component.</p>
</div>
<div class="paragraph">
<p>For example, the <strong><em>Logic</em></strong> component (see the class diagram given below) defines it&#8217;s API in the <strong><em>Logic.java</em></strong> interface and exposes its functionality using the <strong><em>LogicManager.java</em></strong> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">3.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/ui/Ui.java"><strong><em>Ui.java</em></strong></a></p>
</div>
<div class="paragraph">
<p>The <strong><em>UI</em></strong> consists of a <strong><em>MainWindow</em></strong> that is made up of parts e.g.<strong><em>CommandBox</em></strong>, <strong><em>ResultDisplay</em></strong>, <strong><em>DishListPanel</em></strong>, <strong><em>StatusBarFooter</em></strong> etc. All these parts, including the <strong><em>MainWindow</em></strong>, inherit from the abstract <strong><em>UiPart</em></strong> class.<br></p>
</div>
<div class="paragraph">
<p>The <strong><em>UI</em></strong> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <strong>.fxml</strong> files that are in the <strong>src/main/resources/view</strong> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/ui/MainWindow.java"><strong><em>MainWindow</em></strong></a> is specified in <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/resources/view/MainWindow.fxml"><strong><em>MainWindow.fxml</em></strong></a>.</p>
</div>
<div class="paragraph">
<p>The <strong><em>UI</em></strong> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <strong><em>Logic</em></strong> component.</p>
</li>
<li>
<p>Listens for changes to <strong><em>Model</em></strong> data so that the <strong><em>UI</em></strong> can be updated with the modified data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This design is similiar to the Architectural design of CaloFit, whereby different <strong><em>UiParts</em></strong> are encapsulated in the <strong><em>MainWindow</em></strong> java controller class. This allows the <strong><em>Logic</em></strong> to minimise interaction with the <strong><em>UI</em></strong>, since the <strong><em>MainWindow</em></strong> manages the changes to any <strong><em>UiPart</em></strong> classes that result from the execution in the <strong><em>Logic</em></strong> component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">3.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/logic/Logic.java"><strong><em>Logic.java</em></strong></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><em>Logic</em></strong> uses the <strong><em>CommandParser</em></strong> class to parse the user command.</p>
</li>
<li>
<p>This results in a <strong><em>Command</em></strong> object which is executed by the <strong><em>LogicManager</em></strong>.</p>
</li>
<li>
<p>The command execution can affect the <strong><em>Model</em></strong> (e.g. adding a meal).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <strong><em>CommandResult</em></strong> object which is passed back to the <strong><em>Ui</em></strong>.</p>
</li>
<li>
<p>In addition, the <strong><em>CommandResult</em></strong> object can also instruct the <strong><em>Ui</em></strong> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This design allows the <strong><em>Logic</em></strong> component to maintain the Single Responsibility of processing the <strong><em>Command</em></strong> and returning the <strong><em>CommandResult</em></strong>. The <strong><em>UI</em></strong> displays any feedback to the user based on the <strong><em>CommnadResult</em></strong> object, without the need for the <strong><em>Logic</em></strong> to invoke any methods in the <strong><em>UI</em></strong> directly.</p>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <strong><em>Logic</em></strong> component for the <em>Logic#execute("delete 1")</em> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete 1</code> Command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <strong><em>DeleteCommandParser</em></strong> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">3.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/model/Model.java"><strong><em>Model.java</em></strong></a></p>
</div>
<div class="paragraph">
<p>The <strong><em>Model</em></strong>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <strong><em>UserPref</em></strong> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the <strong><em>DishDatabase</em></strong> data, <strong><em>MealLog</em></strong> data and <strong><em>CalorieBudget</em></strong> data.</p>
</li>
<li>
<p>exposes many unmodifiable properties that can be 'observed' by the <strong><em>UI</em></strong> component</p>
<div class="ulist">
<ul>
<li>
<p>List of today meals (<strong><em>ObservableList&lt;Meal&gt;</em></strong>)</p>
</li>
<li>
<p>List of suggested/filtered dishes (<strong><em>ObservableList&lt;Dish&gt;</em></strong>)</p>
</li>
<li>
<p>Current calorie budget (<strong><em>CalorieBudget</em></strong>)
The <strong><em>UI</em></strong> components can be bound to this list, so that the <strong><em>UI</em></strong> automatically updates when the data in the list changes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This design allows many parts of CaloFit to be created without the fear of conflict with other classes. This is due to the <strong><em>Model</em></strong> interface acting as a Facade class that manages the interactions between the components that makeup CaloFit.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">3.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-W11-4/main/src/main/java/calofit/storage/Storage.java"><strong><em>Storage.java</em></strong></a></p>
</div>
<div class="paragraph">
<p>The <strong><em>Storage</em></strong> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <strong><em>UserPref</em></strong> objects in json format and read it back.</p>
</li>
<li>
<p>can save the <strong><em>DishDatabase</em></strong> data in json format and read it back.</p>
</li>
<li>
<p>can save the <strong><em>MealLog</em></strong> data in json format and read it back.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This design allows the users to save their <strong><em>MealLog</em></strong> and <strong><em>DishDatabase</em></strong> in a directory of their choice that is specified by the <strong><em>Path</em></strong> in the <strong><em>UserPrefs</em></strong> object.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">3.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <strong>calofit.commons</strong> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="meal-tracking-feature"><a class="link" href="#meal-tracking-feature">4.1. Meal Tracking Feature</a></h3>
<div class="sect3">
<h4 id="add-feature"><a class="link" href="#add-feature">4.1.1. Add feature</a></h4>
<div class="sect4">
<h5 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h5>
<div class="sect5">
<h6 id="addition-though-flags-e-g-add-n-chicken-c-200-t-dry"><a class="link" href="#addition-though-flags-e-g-add-n-chicken-c-200-t-dry">Addition though flags (e.g add n/Chicken c/200 t/dry)</a></h6>
<div class="paragraph">
<p>The <code>add</code> feature is implemented through the <code>AddCommand</code> class that extends the abstract <code>Command</code> class.
It interacts with other objects through the <code>Model</code> interface to manipulate the meal log and dish database to add meals.</p>
</div>
<div class="paragraph">
<p>The addition of meals is done through <code>Model#addMeal()</code> which would add the meal from the meal log list.</p>
</div>
<div class="paragraph">
<p>The <code>add</code> feature uses the Model to check if the dish is already in the database.
If the dish is already in the database, the meal will be added to the meal log only through the <code>Model#addMeal()</code> method.
If the dish the user wants to add is not in the database,
then the dish will be added to both the meal log and the dish database through the <code>Model#addMeal()</code> and
<code>Model#addDish()</code> methods respectively.</p>
</div>
<div class="paragraph">
<p>There are a few cases to take note:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the dish name is in the dish database:</p>
<div class="ulist">
<ul>
<li>
<p>The user inserts the calorie information that is the same as the one in the dish database</p>
<div class="ulist">
<ul>
<li>
<p>The dish will be added to the meal log only.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The user inserts the calorie information different from the calorie in the dish database</p>
<div class="ulist">
<ul>
<li>
<p>This will create a new dish all together as there are differences in the calorie</p>
</li>
<li>
<p>The new dish will be added to both the meal log as well as the dish database</p>
</li>
</ul>
</div>
</li>
<li>
<p>The user does not insert the calorie information</p>
<div class="ulist">
<ul>
<li>
<p>The program will look through the dish database and get the calorie information from that dish.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If the dish name is not in the dish database</p>
<div class="ulist">
<ul>
<li>
<p>The user inserts the calorie information</p>
<div class="ulist">
<ul>
<li>
<p>A new dish is created with that name and calorie information</p>
</li>
<li>
<p>The dish will then be added to both the dish database as well as the meal log.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The user does not insert the calorie information</p>
<div class="ulist">
<ul>
<li>
<p>The program sets the calorie information to 700 by default.</p>
</li>
<li>
<p>The dish will then be added to both the dish database as well as the meal log</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>add</code> operation works when calorie information is included:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddSequenceDiagram.png" alt="AddSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>To detect whether the calorie tag is used in the user input, we use an UNKNOWN_CALORIE in the Calorie class.
This will trigger either search for the dish in the dish database or create a new dish and input it into the dish database.</p>
</div>
<div class="paragraph">
<p>The input by the user and the dish in the dish database is considered equal only if both the name and the calorie information are the same.</p>
</div>
<div class="paragraph">
<p>Addition of tags are supported. However, they are not crucial to the implementation of the add
function as tags are not considered when deciding equality of dishes.</p>
</div>
</div>
<div class="sect5">
<h6 id="addition-though-indexes-in-suggested-find-meal-list-e-g-add-1-2-3"><a class="link" href="#addition-though-indexes-in-suggested-find-meal-list-e-g-add-1-2-3">Addition though indexes in suggested/find meal list (e.g add 1 2 3)</a></h6>
<div class="paragraph">
<p>The <code>add</code> feature also supports the addition of meals through indexes in the suggested meal list.
This is done to improve the user experience as they do not have to always enter the long commands.</p>
</div>
<div class="paragraph">
<p>This feature is also implemented through the <strong><em>AddCommand</em></strong> class that extends the abstract <strong><em>Command</em></strong> class.</p>
</div>
<div class="paragraph">
<p>The <code>add</code> command in this case takes in a list of numbers pass to it through the <strong><em>AddCommandParser</em></strong>. The checking of valid
indexes is done by the <strong><em>AddCommandParser</em></strong>. Once the list is passed to the <strong><em>AddCommand</em></strong>, it calls <strong><em>Model#getFilteredDishlist()</em></strong>
which returns the filtered dish list. The add command will then loop through
the list of indexes and get the respective dishes from the filtered dish list.</p>
</div>
<div class="paragraph">
<p>We cannot add the meal immediately to the meal log as the filtered dish list would change when the calorie count changes. Hence the
meals are first added to separate a <strong><em>toBeAddedMealList</em></strong> and once all the indexes are added to that list,
<strong><em>MealLog#addListOfMeals(toBeAddedMealList)</em></strong> is called to add all the meals in to the meal log at once.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-consideration"><a class="link" href="#design-consideration">Design Consideration</a></h5>
<div class="sect5">
<h6 id="aspect-what-is-considered-the-same-meal"><a class="link" href="#aspect-what-is-considered-the-same-meal">Aspect: What is considered the same meal</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current choice):</strong> Compare name and calorie only</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More precise compared to just comparing names.</p>
</li>
<li>
<p>Cons: Complications when adding meals.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Compare name only</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy comparison. Reduces complications when adding meals.</p>
</li>
<li>
<p>Cons: High collision.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3</strong> Compare name, calories and tags</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Very precise comparison.</p>
</li>
<li>
<p>Cons: May cause the dish database to get very large just because the tag is different</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of choice:</strong> As a calorie counter, the calories is an important
part of the meal. Hence we need to consider it when comparing meals. Certain meals
with the same name may not have the same amount of calories. Hence we decided to go
with alternative 1.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-when-storing-in-meals-in-meal-log"><a class="link" href="#aspect-data-structure-when-storing-in-meals-in-meal-log">Aspect: Data structure when storing in meals in meal log</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current choice):</strong> Use array list to store meals in meal log</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Able to delete by index.</p>
</li>
<li>
<p>Cons: Interacting with the meal log will be slow.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use a hash map to store the meals in meal log</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Able quickly retrieve information from the meal log.</p>
</li>
<li>
<p>Cons: Unable to delete through index. Also unable to store duplicates of the same meal.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of choice:</strong> The user may consume the same meal within the day. If we use a hash
map, we will not be able to store the duplicate meals easily. Hash map does not preserve order.
Hence, showing on the meal list section would be difficult as well. A user may not have a large
amount of meals daily. Hence the array list would not be that large. Therefore, despite its limitation,
an array list is still used.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="edit-feature"><a class="link" href="#edit-feature">4.1.2. Edit feature</a></h4>
<div class="sect4">
<h5 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h5>
<div class="paragraph">
<p>The <code>edit</code> feature is implemented through the <strong><em>EditCommand</em></strong> class that extends the abstract <strong><em>Command</em></strong> class.
It interacts with other objects through the <strong><em>Model</em></strong> interface to manipulate the meal log and edit meals.</p>
</div>
<div class="paragraph">
<p>The <strong><em>edit</em></strong> command allows the user to edit any fields in their previous meal entries of the same day with a
single command. The edit command takes in a <strong><em>Index</em></strong> which specifies the location of the meal in the meal log
and a <strong><em>EditDishDescriptor</em></strong> which contains the information the user wants to edit the meal with.</p>
</div>
<div class="paragraph">
<p>The edit of meal is done through a 2 step process. The meal is first retrieved from the meal log. Afterwards,
the meal will be edited with the information in the EditDishDescriptor. Following that, the edited meal is
inserted using the <strong><em>Model#setMeal()</em></strong> command. This swaps out the old meal for the new edited meal.</p>
</div>
<div class="paragraph">
<p>Below is the activity diagram that summarises the scenario when "edit 1 n/Mushroom Soup c/200 tr/shitake" is called by the user.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/EditActivityDiagram.png" alt="EditActivityDiagram">
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-consideration-2"><a class="link" href="#design-consideration-2">Design Consideration</a></h5>
<div class="sect5">
<h6 id="aspect-how-editing-meal-in-meal-log-will-change-the-dish-database"><a class="link" href="#aspect-how-editing-meal-in-meal-log-will-change-the-dish-database">Aspect: How editing meal in meal log will change the dish database.</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current choice):</strong> No change to dish database</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simple and easy for user to understand</p>
</li>
<li>
<p>Cons: Less accurate data in the dish database</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Edit the corresponding meal that was previously added when adding the meal</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Better more accurate data in the dish database</p>
</li>
<li>
<p>Cons: Raises many complications that may get very confusing for the user</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explaination of choice:</strong> Interacting with the dish database will cause multiple different edge cases
that need to be considered. This may cause it to be confusing for the user. For example, if they user intends to
enters "Mushroom Soup" and get all the information from the dish database. However, the user spelt it wrongly and
entered "Mushroom Soop" instead. When editing, do we search the dish database for the correct information of
"Mushroom Soup" or do we just change the name and leave the other information untouched? Hence it is decided to
allow the user to edit the fields and have no interaction with the dish database for a better user experience.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="delete-feature"><a class="link" href="#delete-feature">4.1.3. Delete feature</a></h4>
<div class="sect4">
<h5 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h5>
<div class="paragraph">
<p>The <code>delete</code> feature is implemented through the <strong><em>DeleteCommand</em></strong> class that extends the abstract <strong><em>Command</em></strong> class.
It interacts with other objects through the <strong><em>Model</em></strong> interface to manipulate the meal log and remove meals.</p>
</div>
<div class="paragraph">
<p>The <code>delete</code> command allows for removal of multiple dishes with a single command.
The <code>delete</code> command takes in a <strong><em>listOfIndex</em></strong> passed to it by the <strong><em>DeleteCommandParser</em></strong>. The checking of valid integers
is done by the <strong><em>DeleteCommandParser</em></strong>. Once the listOfIndex is passed to the <strong><em>DeleteCommand</em></strong>, it sorts the list from largest index
to smallest index using the <strong><em>Collections.sort(listOfIndex, Comparator.reverseOrder())</em></strong>. The <strong><em>DeleteCommand</em></strong> then loops through
the sorted list and checks if the index is within the size of the meal log. If the index is valid, <strong><em>DeleteCommand</em></strong> will
remove the respective meal from the meal log.</p>
</div>
<div class="paragraph">
<p>The removal of meals is done through the <strong><em>Model#removeMeal(meal)</em></strong> which would remove the meal from the meal log list.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>delete</code> operation works when index 1 is deleted:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>Below is the activity diagram that summarises the scenario when "delete 1" is called by the user.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteActivityDiagram.png" alt="DeleteActivityDiagram">
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-consideration-3"><a class="link" href="#design-consideration-3">Design Consideration</a></h5>
<div class="sect5">
<h6 id="aspect-how-is-the-meal-removed"><a class="link" href="#aspect-how-is-the-meal-removed">Aspect: How is the meal removed</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Current Choice):</strong> Removed after the listOfIndex is sorted.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Prevent the reordering of the meal log causing the larger indexes to correspond to a different meal or
out of bounds. (e.g delete 1 2 for a meal log with 2 meals. If we delete 1 first, the meal log will change to having 1 meal.
The meal previously at index 2 is now at index 1. When doing delete 2, the meal at index 2 is now out of bounds as the meal log
only has 1 meal.)</p>
</li>
<li>
<p>Cons: The command may take some time when handling large amounts of input. This is due to the sorting required.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Loop through the indexes in the <strong><em>DeleteCommandParser</em></strong> and create a new <strong><em>DeleteCommand</em></strong> for every index.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simple morphing of previous delete method.</p>
</li>
<li>
<p>Cons: Have to change other parts of the model breaking abstraction.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Explanation of Choice:</strong> The command is for the deletion of meals for that day. A person on average consumes 3 - 4 meals a day.
Hence on average, the most meals to be deleted is 4. Thus the sorting time would not be too significant.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="budget-bar-display"><a class="link" href="#budget-bar-display">4.2. Budget Bar display</a></h3>
<div class="paragraph">
<p>The budget bar display provides a graphic overview of meals consumed on the current day,
comparing against the total calorie budget set by the user.</p>
</div>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">4.2.1. Implementation</a></h4>
<div class="paragraph">
<p>The budget bar feature is implemented via the <code>BudgetBar</code> class.
It is a JavaFx UI component, which wraps around <code>MealLog</code> and <code>CalorieBudget</code>.
<code>MealLog</code> provides an observable list of meals eaten today,
while <code>CalorieBudget</code> provides the currently set user budget.</p>
</div>
<div class="paragraph">
<p>Using helper code from <code>ObservableUtil</code> and <code>ObservableListUtil</code>,
we compute several derived properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Total calories consumed</p>
</li>
<li>
<p>Percentage of budget consumed</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>From there, we again construct further observable/reactive values representing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bar info text color</p>
<div class="ulist">
<ul>
<li>
<p>Transitions from green to red, when more budget is consumed</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bar info text</p>
<div class="ulist">
<ul>
<li>
<p>If budget has been set, shows <code>&lt;Total Consumed&gt; / &lt;Budget&gt;</code>.</p>
</li>
<li>
<p>If budget has not been set, only shows <code>&lt;Total Consumed&gt;</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Meal segments</p>
<div class="ulist">
<ul>
<li>
<p>Each meal is displayed as a proportionally-sized segment in the whole bar.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Position of warning/danger markers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following object diagram shows the reactive update dependencies.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BudgetMealUpdate.png" alt="BudgetMealUpdate">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-consideration-4"><a class="link" href="#design-consideration-4">4.2.2. Design Consideration</a></h4>
<div class="sect4">
<h5 id="aspect-base-ui-component-to-display-meal-segments"><a class="link" href="#aspect-base-ui-component-to-display-meal-segments">Aspect: Base UI component to display meal segments.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong>
Use ControlsFx&#8217;s <code>SegmentedBar</code> class to handle display of bar segments.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>No need to reimplement JavaFx <code>setLayout</code> logic</p>
</li>
<li>
<p>Better performance than <code>GridPane</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Dependency on external library</p>
</li>
<li>
<p>Have to create a separate <code>BufferSegment</code> class to represent gap.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong>
Use JavaFx&#8217;s <code>GridPane</code> to lay out bar segments, and <code>ColumnConstraints</code> to appropriately set column widths.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>No external library (other than JavaFx) needed</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Poor performance to due <code>Observable</code> machinery and <code>GridPane</code> layout</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Explanation of choice:
Simpler implementation and better performance outweighs the cost of using an external library.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assistance-features"><a class="link" href="#assistance-features">4.3. Assistance features</a></h3>
<div class="sect3">
<h4 id="find-feature"><a class="link" href="#find-feature">4.3.1. Find feature</a></h4>
<div class="paragraph">
<p>The find feature displays the result of the searched dish on the right pane to the user.</p>
</div>
<div class="sect4">
<h5 id="implementation-6"><a class="link" href="#implementation-6">Implementation</a></h5>
<div class="paragraph">
<p>The find mechanism is toggled when the user types in the "find" command. Through a <strong><em>FindCommand</em></strong> that extends from the abstract <strong><em>Command</em></strong> class. It interacts with the object that implements <strong><em>Model</em></strong> interface by updating the observable list with a predicate that contains what the user is searching for.</p>
</div>
<div class="paragraph">
<p>Given below is a Class Diagram that shows how the FindCommand interacts with other components of CaloFit.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/FindClassDiagram.png" alt="FindClassDiagram">
</div>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the find mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user starts up CaloFit for the first time. The <strong><em>DishDatabase</em></strong> will be loaded with the initial data by calling <em>MainApp#loadDishDatabase</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the DishDatabase is empty, nothing will be display.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 2. The user enters "find soup" in the Command Line Input to invoke the <strong><em>FindCommand</em></strong> command which will run <em>FindCommand#execute()</em>. <em>Model#setDishFilterPredicate()</em> will be executed to update the observable list with the given predicate.</p>
</div>
<div class="paragraph">
<p>Step 3. The number of dishes found will be return, while printing the updated dish list on CaloFit right pane.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>

</div>
<div class="sect4">
<h5 id="aspect-how-find-executes"><a class="link" href="#aspect-how-find-executes">Aspect: How find executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Update dish list with the search result</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Neater code, easier to maintain and uses lesser memory.</p>
</li>
<li>
<p>Cons: Unable to get history of find list.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Create a new list for every <strong><em>FindCommand</em></strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to understand and customise if require data for method.</p>
</li>
<li>
<p>Cons: Unnecessary memory wastage for list created and not used.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of Choice:</strong> Since we only need to show what the current user finds, there are no usage for the past find result.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-find-command"><a class="link" href="#aspect-data-structure-to-support-the-find-command">Aspect: Data structure to support the find command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Stores the value in a dish list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Commonly used, thus easier to understand and easier to deal with. It can also be easily updated.</p>
</li>
<li>
<p>Cons: Would constantly require <strong><em>Model</em></strong> with a responsibility that is not relevant to it&#8217;s current.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Wrap the values in a <strong><em>Find</em></strong> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Neater and easier to maintain, since all find-related values are stored in the <strong><em>Find</em></strong> object.</p>
</li>
<li>
<p>Cons: Additional class to maintain, harder for newcomers to understand code with too many classes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="suggest-feature"><a class="link" href="#suggest-feature">4.3.2. Suggest feature</a></h4>
<div class="paragraph">
<p>The suggest feature displays the suggested automatically to the user accordingly to the remaining calorie budget.</p>
</div>
<div class="sect4">
<h5 id="implementation-7"><a class="link" href="#implementation-7">Implementation</a></h5>
<div class="paragraph">
<p>The suggest mechanism is toggled when the application starts up. It will always display the suggested meals for the user in the right pane. The feature can be can be toggled back by typing the "suggest" command. Through a <strong><em>SuggestCommand</em></strong> that extends from the abstract <strong><em>Command</em></strong> class. It interacts with the object that implements the <strong><em>Model</em></strong> interface by updating the observable list with dishes that are within the calories budget. The calories budget is obtained from <em>Model#getRemainingCalories()</em>.</p>
</div>
<div class="paragraph">
<p>Additionally, it implements the following operation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Model#getRemainingCalories</em>&#8201;&#8212;&#8201;gets the current allowed calories budget.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This operation is exposed in the <strong><em>Model</em></strong> interface as <em>Model#getRemainingCalories()</em>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the suggest mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user starts up CaloFit for the first time. The <strong><em>DishDatabase</em></strong> will be loaded with the initial data by calling <em>MainApp#loadDishDatabase</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the DishDatabase is empty, or the daily calorie budget have exceeded the set amount, or there are no dishes that is within the amount, nothing will be display.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 2. The user enters "suggest" in the Command Line Input to invoke the <strong><em>SuggestCommand</em></strong> command which will run <em>SuggestCommand#execute()</em>. <em>Model#getRemainingCalories()</em> will be executed to get the remaining calories, which will provide <em>Model#updateFilteredDishList</em> with the calories budget to update the list accordingly.</p>
</div>
<div class="paragraph">
<p>Step 3. The success message will be returns, while printing the updated dish list on CaloFit right pane.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the suggest operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SuggestCommand.png" alt="SuggestCommand">
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h5>

</div>
<div class="sect4">
<h5 id="aspect-how-suggest-executes"><a class="link" href="#aspect-how-suggest-executes">Aspect: How suggest executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Update dish list with calorie budget</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Neater code, easier to maintain and uses less memory.</p>
</li>
<li>
<p>Cons: Unable to get history of suggest list.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Create a new list for every <strong><em>SuggestCommand</em></strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to understand and customise if require data for method.</p>
</li>
<li>
<p>Cons: Unnecessary memory wastage for list created and not used.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of Choice:</strong> Since we only need to show the user the current meal suggest, there are no usage for the past suggest result.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-suggest-command"><a class="link" href="#aspect-data-structure-to-support-the-suggest-command">Aspect: Data structure to support the suggest command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Stores the value in a dish list.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Commonly used, thus easier to understand and easier to deal with. It can also be easily updated.</p>
</li>
<li>
<p>Cons: Would constantly require <strong><em>Model</em></strong> with a responsibility that is not relevant to its current.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Wrap the values in a <strong><em>Suggest</em></strong> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Neater and easier to maintain, since all suggest-related values are stored in the <strong><em>Suggest</em></strong> object.</p>
</li>
<li>
<p>Cons: Additional class to maintain, harder for newcomers to understand code with too many classes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="notification-feature"><a class="link" href="#notification-feature">4.3.3. Notification feature</a></h4>
<div class="paragraph">
<p>The notification feature prompts the user with new window if a meal had been missed.</p>
</div>
<div class="sect4">
<h5 id="implementation-8"><a class="link" href="#implementation-8">Implementation</a></h5>
<div class="paragraph">
<p>The notification feature is automatically activated when the application starts up. On start up, it is implemented through a <strong><em>NotificationHelper</em></strong> that gets information from <em>Model#getMealLog().getTodayMeals()</em> method to check if there are any meal consumed and if a meal had been consumed. The <strong><em>NotificationHelper</em></strong> class would the do a check on the timestamp of the latest meals by using various methods in the <strong><em>Notification</em></strong> class, more details are given below. If a meal had been missed, a notification will be prompted to the user to consume his meal, this prompt will constantly pop up every 10 minutes until a meal had been consumed. If a meal had been consumed within the period then the user can continue using the application without any prompt.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Notification will be prompted:<br>
- After 10am for breakfast<br>
- After 2pm for lunch<br>
- After 8pm for dinner
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Meals that will be counted:
- As breakfast - anytime<br>
- As lunch - after 11am<br>
- As dinner - after 4pm<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Additionally, it implements the following operation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A "timer" object that is in the <strong><em>UIManager</em></strong> class will ensure that the notifications are executed in 10 minutes interval.</p>
</li>
<li>
<p><em>Notification#eatenBreakfast</em>&#8201;&#8212;&#8201;returns a boolean value to indicate whether the user has eaten their breakfast.</p>
</li>
<li>
<p><em>Notification#eatenLunch</em>&#8201;&#8212;&#8201;returns a boolean value to indicate whether the user has eaten their lunch.</p>
</li>
<li>
<p><em>Notification#eatenDinner</em>&#8201;&#8212;&#8201;returns a boolean value to indicate whether the user has eaten their dinner.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the notification mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user starts up CaloFit for the first time. The <strong><em>DishDatabase</em></strong> will be loaded with the initial data by calling <em>MainApp#loadDishDatabase</em> with an empty MealLog.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The application will immediately check once, when the application is launched, followed by every 10 minutes interval.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 2. The application will then execute <strong><em>NotificationHelper</em></strong> once to check if any meal have been missed. If there is none then no notification will be prompted. If a meal is missed it will prompt to the user, and notify them every 10 minutes.</p>
</div>
<div class="paragraph">
<p>Step 3. After 10 minutes, <strong><em>UIManager</em></strong> will then execute <strong><em>NotificationHelper</em></strong> and check if the user has keyed in any meals. This process will carry on for every 10 minutes utill the user keys in his meal.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the notification operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/NotificationActivityDiagram.png" alt="NotificationActivityDiagram">
</div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h5>

</div>
<div class="sect4">
<h5 id="aspect-how-notification-executes"><a class="link" href="#aspect-how-notification-executes">Aspect: How notification executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Refocus the notification Window.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Ensure that less memory is used, so that buffer overflow is not possible. Furthermore user would not be annoyed by multiple tabs.</p>
</li>
<li>
<p>Cons: Higher chance of notification not showing up due to a single error.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Create a new Window for each notification</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less prone to mistake as previous notification will still stay until the user clears it.</p>
</li>
<li>
<p>Cons: Require much more memory as a new window is created, if the user was away for a period of time and the application was left opened, user would be required to clear quite a number of tabs.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of Choice:</strong> Since this feature serves as an assistance to the user, we should not bring in more hassle and inconvenience to the user. Thus even with a higher risk of notification not showing up due to error. After 10 more minutes the notification will be prompted.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="report-feature"><a class="link" href="#report-feature">4.4. Report feature</a></h3>
<div class="sect3">
<h4 id="implementation-9"><a class="link" href="#implementation-9">4.4.1. Implementation</a></h4>
<div class="paragraph">
<p>The Report feature is implemented through a <strong><em>ReportCommand</em></strong> that extends from the abstract <strong><em>Command</em></strong> class.<br>
It returns a <strong><em>CommandResult</em></strong> object that has the boolean "isReport" set to True when <em>ReportCommand#execute(Model)</em> is called.<br>
The <strong><em>MainWindow</em></strong> Ui component will check the <strong><em>CommandResult</em></strong> for the "isReport" boolean and create a new <strong><em>ReportWindow</em></strong> through the <em>MainWindow#handleReport()</em> method.<br>
The <strong><em>ReportWindow</em></strong> object takes in a <strong><em>Statistics</em></strong> object that is created by calling <em>Logic#getStatistics()</em> which subsequently calls <em>Model#getStatistics()</em>. The <strong><em>Model</em></strong> then returns the <strong><em>Statistics</em></strong> object that is created based on the <strong><em>CalorieBudget</em></strong> and <strong><em>MealLog</em></strong> in the <strong><em>Model</em></strong>.<br>
Additionally, the following operations are implemented in <strong><em>Statistics</em></strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Statistics#generateStatistics(ObservableList&lt;Meal&gt;, CalorieBudget)</em>&#8201;&#8212;&#8201;gets the statistics of the current object. Maximum, Minimum and Average calorie intake per day of the current month are calculated internally in this method.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
While the above method takes in an <strong><em>ObservableList&lt;Meal&gt;</em></strong> instead of a <strong><em>MealLog</em></strong>, the list is generated from the <strong><em>MealLog</em></strong> and passed as the argument to avoid unnecessary interaction between the <strong><em>MealLog</em></strong> and <strong><em>Statistics</em></strong> classes.<br>
Therefore, even though <strong><em>MealLog</em></strong> is not taken in as a parameter, <strong><em>Statistics</em></strong> still depeneds on <strong><em>MealLog</em></strong> to get the data for generating the report.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Statistics#getCalorieExceedCount(CalorieBudget, ObservableList&lt;Meal&gt;)</em>&#8201;&#8212;&#8201;gets the number of days where calorie intake exceeded the calorie budget for that day.</p>
</li>
<li>
<p><em>Statistics#getMostConsumedDishes(ObservableList&lt;Meal&gt;)</em>&#8201;&#8212;&#8201;gets the list of dishes which are consumed the most in the current month.</p>
</li>
<li>
<p><em>Statistics#getFoodChartSeries(ObservableList&lt;Meal&gt;)</em>&#8201;&#8212;&#8201;gets the series containing the dishes eaten this month and their respective quantities.</p>
</li>
<li>
<p><em>Statistics#getCalorieChartSeries(ObservableList&lt;Meal)</em>&#8201;&#8212;&#8201;gets the series that represents the amount of calories taken by the user over the past month.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is Figure 3.5.1.1 which is a Class Diagram that shows how the <strong><em>ReportCommand</em></strong> interacts with other components of CaloFit.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReportClassDiagram.png" alt="ReportClassDiagram">
</div>
</div>
<div class="paragraph">
<div class="title">Figure 3.5.1.1: Class Diagram showing interaction of <strong><em>ReportCommand</em></strong>.</div>
<p><br></p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the Report feature behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user starts up CaloFit for the first time. The <strong><em>ModelManager</em></strong> will contain a <strong><em>MealLog</em></strong> that has an empty list.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user enters "report" in the Command Line Input with a <strong><em>MealLog</em></strong> that has no <strong><em>Meal</em></strong> entered this month, a <strong><em>CommandException</em></strong> will be thrown since there are no <strong><em>Meal</em></strong> to gather statistics pertaining to this month.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 2. The user has added a <strong><em>Meal</em></strong> into the <strong><em>MealLog</em></strong> through the <code>add</code> feature.</p>
</div>
<div class="paragraph">
<p>Step 3. The user enters "report" in the Command Line Input to generate the report of CaloFit. The <strong><em>ReportCommand</em></strong> created will return a <strong><em>CommandResult</em></strong> object with "isReport" set to True. When the <strong><em>MainWindow</em></strong> checks this boolean, it calls <em>MainWindow#handleReport()</em> that creates the <strong><em>ReportWindow</em></strong>.</p>
</div>
<div class="paragraph">
<p>The following activity diagram in Figure 3.5.1.2 summarises the above usage scenario.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReportCommandActivityDiagram.png" alt="ReportCommandActivityDiagram">
</div>
</div>
<div class="paragraph">
<div class="title">Figure 3.5.1.2: Activity Diagram showing execution of "report" as the user input.</div>
<p><br></p>
</div>
<div class="paragraph">
<p>The following sequence diagram in Figure 3.5.1.3 shows how the "report" command works.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReportCommand.png" alt="ReportCommand">
</div>
</div>
<div class="paragraph">
<div class="title">Figure 3.5.1.3: Sequence diagram of "report" command execution.</div>
<p><br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The parameters of the constructor of <strong><em>CommandResult</em></strong> in the above diagram are as follows, from left to right:<br>
String message&#8201;&#8212;&#8201;the message to be displayed to the user in the GUI.<br>
boolean showHelp: indicates if the <strong><em>HelpWindow</em></strong> should be generated.<br>
boolean showReport: indicates if the <strong><em>ReportWindow</em></strong> should be generated.<br>
boolean isExit: indicates if the application should exit along with any other windows that are being shown.<br>
Hence, only showReport is set to true to indicate that a <strong><em>ReportWindow</em></strong> should be created, while the rest of the booleans are set to false.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram in Figure 3.5.1.4 shows how the <strong><em>ReportWindow</em></strong> is generated.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReportWindow.png" alt="ReportWindow">
</div>
</div>
<div class="paragraph">
<div class="title">Figure 3.5.1.4: Sequence Diagram showing the generation of the <strong><em>ReportWindow</em></strong>.</div>
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.4.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-when-the-strong-em-statistics-em-strong-object-is-created"><a class="link" href="#aspect-when-the-strong-em-statistics-em-strong-object-is-created">Aspect: When the <strong><em>Statistics</em></strong> object is created.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Only when a "report" command is entered.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less processes carried out for each type of command.</p>
</li>
<li>
<p>Cons: At any point in using CaloFit, the statistics are not updated since the object is only created when the "report" command is entered.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Every command creates a new updated <strong><em>Statistics</em></strong> object.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Logging of statistics can be accurate, and statistics are always updated.</p>
</li>
<li>
<p>Cons: Unnecessary as user does not need to see the statistics other than through a "report" command and results in every command having to do more work and interact with the <mark>Model</mark> more, possibly creating more bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of Choice:</strong> Since the user only needs to see the updated statistics when a "report" command is executed, we only need to generate a new <strong><em>Statistics</em></strong> object with the updated values for that command, hence <strong>Alternative 1</strong> is chosen to avoid adding unnecessary complexity to each command.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-store-the-statistics-in-calofit"><a class="link" href="#aspect-data-structure-to-store-the-statistics-in-calofit">Aspect: Data structure to store the statistics in CaloFit.</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Wrap the values in a <strong><em>Statistics</em></strong> object.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Neater code and easier to understand, since all statistic-related values are stored in the <strong><em>Statistics</em></strong> object and are not implemented in the <strong><em>Model</em></strong>.</p>
</li>
<li>
<p>Cons: Additional class to maintain and test for dependencies.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Store the values as a <strong><em>List</em></strong> in the <strong><em>Model</em></strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The statistics can be updated easily through the <strong><em>Model</em></strong> itself by updating the elements in the <strong><em>List</em></strong>. Accessing the statistics to display is easier as well.</p>
</li>
<li>
<p>Cons: Burdens the <strong><em>Model</em></strong> with a responsibility that is largely irrelevant to its current ones, which is to keep track of the Objects that make up the CaloFit model.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Explanation of Choice:</strong> To try and enforce Single Responsibility Principle as much as possible and avoid adding irrelavant functionality to <mark>Model</mark>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.5. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 4.6, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">4.6. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="target-user-profile"><a class="link" href="#target-user-profile">A.1. Target User Profile</a></h3>
<div class="ulist">
<ul>
<li>
<p>Health-conscious people watching their diet</p>
</li>
<li>
<p>Prefer desktop applications over mobile apps</p>
</li>
<li>
<p>Comfortable enough to work with text command-based interfaces</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="value-proposition"><a class="link" href="#value-proposition">A.2. Value Proposition</a></h3>
<div class="paragraph">
<p>The app is able to help the user keep track of their calorie consumption. This way, they can ensure that they keep to their own diet plans.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create a new meal entry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of what I ate today.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see how many calories I have left in today&#8217;s budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know what I can eat later, and stay in budget.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be alerted if I missed a meal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be reminded to stick to my meal plans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">change my daily calorie budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better reflect my new lifestyle requirements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">modify my previous meal entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fix missing or inaccurate information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete my previous meal entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undo mistakenly added meal entries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generate a summary of meals over the past month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">review my overall progress in keeping to my meal plan.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view meal suggestions that fit in my remaining budget.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">figure out what I can eat while keeping to my plan.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#11088;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create a new meal entry based of a meal I commonly eat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of a meal I eat often.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="use-case-add-meal-entry"><a class="link" href="#use-case-add-meal-entry">C.1. Use Case: Add meal entry</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters meal information.</p>
</li>
<li>
<p>System adds entry into database.</p>
</li>
<li>
<p>System shows updated calorie budget for the day.
Use case ends.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>1a.	The given meal entry has insufficient information (calories, meal name, etc.)</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1.	CaloFit shows an error message.</p>
<div class="paragraph">
<p>Use case restarts at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non-functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any mainstream OS as long as it has Java 11 or above installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 meal entries without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, macOS</p>
</dd>
<dt class="hdlist1"><a id="meal-entry"></a> Meal entry</dt>
<dd>
<p>An entry representing a eaten meal.
Contains meal name, calories, and date/time consumed.</p>
</dd>
<dt class="hdlist1"><a id="meal-db"></a> Meal database</dt>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Product Name</strong></p>
</div>
<div class="paragraph">
<p>Author: &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with a set of sample contacts. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app by double-clicking the jar file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-person"><a class="link" href="#deleting-a-person">G.2. Deleting a person</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting a person while all persons are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all persons using the <code>list</code> command. Multiple persons in the list.</p>
</li>
<li>
<p>Test case: <code>delete 1</code><br>
Expected: First contact is deleted from the list. Details of the deleted contact shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code>delete 0</code><br>
Expected: No person is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code>delete</code>, <code>delete x</code> (where x is larger than the list size) <em>{give more}</em><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="testing-find-feature"><a class="link" href="#testing-find-feature">G.3. Testing find feature</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Dish database should contain the dish name that the user is searching, otherwise nothing will be displayed.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Finding a particular dish</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>find soup</code>.<br>
Expected: The list of  with "soup" in it.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Toggle between suggest and find</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>suggest</code> followed by <code>find soup</code>.<br>
Expected: CaloFit will display the suggested list of dishes followed by the soup dishes that the user is looking for.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="testing-suggest-feature"><a class="link" href="#testing-suggest-feature">G.4. Testing suggest feature</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For suggestion to work:<br>
Dish database cannot be empty.<br>
Dish database have to contain dishes within remaining calorie budget.<br>
Otherwise suggest feature will not work.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Suggesting dishes based on remaining calorie budget.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>set 1000</code> followed by <code>add n/rice c/600</code><br>
Expected: Dishes with 400 calories and below will be displayed.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Toggle between find and suggest.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>find soup</code> followed by <code>suggest</code>.<br>
Expected: CaloFit will display the soup dishes that the user is looking for followed by the suggested list of dishes.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="testing-notification-feature"><a class="link" href="#testing-notification-feature">G.5. Testing notification feature</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Changing of system time would be required.<br>
Do not launch the application till instructed.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Notify user when user miss their breakfast.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: Set system time to anytime after 10am, clean launch the application, and leave it for as long as the user want to test.
Expected: When the application first launch, a notification will be prompted. Followed by every 10 minutes for as long as the application is running.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Notify user when user miss their lunch.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: set the system time to 8am, clean launch the application, <code>add n/cereal c/300</code>, set the system time to 3pm, leave it for as long as the user wants to test.
Expected: A notification indicating that lunch have been missed would be prompted every 10 minutes.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Notify user when user miss their dinner.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: set the system time to 8am, clean launch the application, <code>add n/cereal c/300</code>, set the system time to 9pm, leave it for as long as the user wants to test.
Expected: A notification indicating that dinner have been missed would be prompted every 10 minutes.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="testing-the-generation-of-the-report"><a class="link" href="#testing-the-generation-of-the-report">G.6. Testing the generation of the report</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All test cases assume an empty meal log prior to the inputs. To ensure this, you can go to the directory where you installed CaloFit, click on the "data" directory, and delete the mealLog.json file before restarting the application.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generation of Report.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: No meals in input for current month, followed by <code>report</code>.<br>
Expected: Report is <strong>NOT</strong> generated. An error message will be shown in the result display box of CaloFit.</p>
</li>
<li>
<p>Test case: Any number of meals has been entered for current month, followed by <code>report</code>.<br>
Expected: Report is generated normally.</p>
</li>
<li>
<p>Test case: Any number of meals has been entered for current month and system time is changed to a different month or year, followed by <code>report</code><br>
Expected: Report may initially be wrong as stated in the [<a href="https://github.com/AY1920S1-CS2103T-W11-4/main/blob/master/docs/UserGuide.adoc">Report Feature of our User Guide</a>]. The data in CaloFit will be updated in 2 minutes to fit this change in system time, after which the scenario will be similiar to the previous test case.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Testing validity of number of days where Calorie of the month</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>add n/carbonara c/689</code>, <code>set 500</code>, followed by <code>report</code>.<br>
Expected: Number of days calorie intake exceeded budget will be 1.</p>
</li>
<li>
<p>Test case: <code>add n/carbonara c/689</code>, <code>set 1000</code>, followed by <code>report</code>.<br>
Expected: Number of days calorie intake exceeded budget will be 0.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Testing validity of list of most consumed dishes.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>add n/carbonara c/689</code>, <code>add n/beef stew c/200</code>, followed by <code>report</code>.<br>
Expected: Carbonara and Beef Stew will be in list.</p>
</li>
<li>
<p>Test case: same as previous, with additional <code>add n/carbonara c/689</code> before <code>report</code>.<br>
Expected: Only Carbonara will be in the list.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Testing validity of Calorie Over Time graph.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>add n/carbonara c/689</code>, <code>add n/beef stew c/200</code>, followed by <code>report</code>.<br>
Expected: Calorie intake for today&#8217;s date will be 889.</p>
</li>
<li>
<p>Test case: same as previous, with additional <code>add n/beef stew c/200</code> before <code>report</code>.<br>
Expected: Calorie intake for today&#8217;s date will be 1089.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Testing validity of Quantity of Food Consumed graph.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>add n/carbonara c/689</code>, followed by <code>report</code><br>
Expected: Quantity of carbonara consumed will be 1.</p>
</li>
<li>
<p>Test case: <code>add n/carbonara c/689</code>, <code>add n/beef stew c/200</code>, followed by <code>report</code>.<br>
Expected: Quantity of carbonara consumed will be 1. Quantity of beef stew consumed will be 1.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Testing validity of Maximum, Minimum, and Average calorie intake of the month.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test Case: <code>add n/carbonara c/689</code>, followed by <code>report</code>.<br>
Expected: Maximum will be 689, Minimum will be 0, and Average will be 22.</p>
</li>
<li>
<p>Test case: <code>add n/carbonara c/689</code>, <code>add n/beef stew c/200</code>, followed by <code>report</code>.<br>
Expected: Maximum will be 889, Minimum will be 0, and Average will be 29(for 30 day months) or 28(for 31 day months).</p>
</li>
<li>
<p>Test case: same as previous, with additional <code>add n/beef stew c/200</code> before <code>report</code> on a different day in the same month.<br>
Expected: Maximum will be 889, Minimum will be 0, and Average will be 36(for 30 day months) or 35(for 31 day months).</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As the above test case requires a change in system time, do allow 2 minutes for CaloFit to be updated, as stated in Point 1(Generation of Report).
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 12:08:25 UTC</div></div></div></body></html>